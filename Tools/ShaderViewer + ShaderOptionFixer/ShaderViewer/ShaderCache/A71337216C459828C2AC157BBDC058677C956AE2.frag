#version 450

layout(binding = 0, std140) uniform support_buffer
{
    uint _m0;
    uint _m1[8];
    vec4 _m2;
    int _m3;
    float _m4[73];
} support_buffer_1;

layout(binding = 11, std140) uniform fp_c10
{
    vec4 _m0[4096];
} fp_c10_1;

layout(binding = 7, std140) uniform fp_c6
{
    vec4 _m0[4096];
} fp_c6_1;

layout(binding = 2, std140) uniform fp_c1
{
    vec4 _m0[4096];
} fp_c1_1;

layout(binding = 6, std140) uniform fp_c5
{
    vec4 _m0[4096];
} fp_c5_1;

layout(binding = 4, std140) uniform fp_c3
{
    vec4 _m0[4096];
} fp_c3_1;

layout(binding = 8, std140) uniform fp_c7
{
    vec4 _m0[4096];
} fp_c7_1;

layout(binding = 0) uniform samplerCubeArray fp_tex_tcb_36;
layout(binding = 1) uniform sampler2D fp_tex_tcb_38;
layout(binding = 2) uniform sampler2D fp_tex_tcb_44;

layout(location = 0) in vec4 _50;
layout(location = 3) in vec4 _52;
layout(location = 2) in vec4 _54;
layout(location = 1) in vec4 _56;
layout(location = 0) out vec4 _59;
uint _6[12];

void main()
{
    bool _224 = false;
    float _66 = max(fp_c6_1._m0[8].w, fp_c1_1._m0[0].x);
    float _68 = _50.x;
    float _70 = _52.x;
    float _72 = _50.y;
    float _74 = _52.y;
    float _76 = _50.z;
    float _78 = _52.z;
    float _80 = inversesqrt(fma(_76, _76, fma(_72, _72, _68 * _68)));
    float _82 = inversesqrt(fma(_78, _78, fma(_74, _74, _70 * _70)));
    float _84 = _68 * _80;
    float _86 = _72 * _80;
    float _88 = _70 * (-_82);
    float _90 = _74 * (-_82);
    float _92 = _76 * _80;
    float _94 = _78 * (-_82);
    float _96 = fma(_92, _94, fma(_86, _90, _84 * _88));
    float _98 = max(_96, fp_c1_1._m0[0].y);
    float _100 = fma(_84 * (-_96), -2.0, -_88);
    float _102 = fma(_86 * (-_96), -2.0, -_90);
    float _104 = fma(_92 * (-_96), -2.0, -_94);
    float _106 = 1.0 / max(abs(_104), max(abs(_100), abs(_102)));
    vec2 _110 = texture(fp_tex_tcb_38, vec2(_98, (-_66) + (-0.0))).xy;
    float _112 = _110.x;
    float _114 = _110.y;
    vec3 _118 = texture(fp_tex_tcb_36, vec4(_100 * _106, _102 * _106, _104 * _106, float(int(clamp(uint(max(roundEven(roundEven(fma(cos(_66 * 3.1415927410125732421875), -5.5, 5.5))), 0.0)), 0u, 65535u))))).xyz;
    float _120 = _54.x;
    float _122 = _54.z;
    float _124 = _88 + (-fp_c5_1._m0[23].x);
    float _126 = fma(fp_c6_1._m0[9].x, -fp_c6_1._m0[7].x, fp_c6_1._m0[7].x);
    float _128 = fma(fp_c6_1._m0[9].x, -fp_c6_1._m0[7].y, fp_c6_1._m0[7].y);
    float _130 = fma(_66, 0.5, 0.5);
    float _132 = _66 * _66;
    float _134 = _94 + (-fp_c5_1._m0[23].z);
    float _136 = _90 + (-fp_c5_1._m0[23].y);
    float _138 = inversesqrt(fma(_134, _134, fma(_136, _136, _124 * _124)));
    float _140 = fma(fp_c6_1._m0[9].x, -fp_c6_1._m0[7].z, fp_c6_1._m0[7].z);
    int _143 = max(0, min(int(trunc((_122 + (-fp_c10_1._m0[550].z)) * fp_c10_1._m0[551].z)), 19));
    float _145 = _84 * _86;
    float _147 = _124 * _138;
    float _149 = _136 * _138;
    float _151 = _134 * _138;
    float _153 = _86 * _92;
    float _155 = _92 * _92;
    float _157 = _84 * _92;
    float _159 = max(fma(_94, _151, fma(_90, _149, _88 * _147)), fp_c1_1._m0[0].y);
    float _161 = fma(_86, -fp_c5_1._m0[23].y, _84 * (-fp_c5_1._m0[23].x));
    float _163 = _132 * _132;
    float _165 = max(fma(_92, _151, fma(_86, _149, _84 * _147)), fp_c1_1._m0[0].y) * max(fma(_92, _151, fma(_86, _149, _84 * _147)), fp_c1_1._m0[0].y);
    float _167 = (_130 * 0.5) * _130;
    float _169 = max(fma(_92, -fp_c5_1._m0[23].z, _161), fp_c1_1._m0[0].y);
    uint _172 = uint(int(uint((((int(uint(_143) >> uint(16)) * 20) << 16) + (((_143 & 65535) * 20) + max(0, min(int(trunc((_120 + (-fp_c10_1._m0[550].x)) * fp_c10_1._m0[551].x)), 19)))) << 4) >> uint(2)));
    float _174 = fp_c10_1._m0[int(uint(int(_172)) >> uint(2))][int(_172) & 3];
    float _176 = 1.0 / (_167 + fma(_98, -_167, _98));
    float _178 = exp2(_159 * fma(_159, fp_c1_1._m0[0].z, -6.9831600189208984375));
    float _180 = fma(_84, _84, -(_86 * _86));
    float _182 = fma((-0.039999999105930328369140625) + fp_c6_1._m0[7].y, fp_c6_1._m0[9].x, 0.039999999105930328369140625);
    float _184 = clamp(fma(_92, -fp_c5_1._m0[23].z, _161), 0.0, 1.0);
    float _186 = fma((-0.039999999105930328369140625) + fp_c6_1._m0[7].x, fp_c6_1._m0[9].x, 0.039999999105930328369140625);
    float _188 = fma((-0.039999999105930328369140625) + fp_c6_1._m0[7].z, fp_c6_1._m0[9].x, 0.039999999105930328369140625);
    float _190 = (_176 * (1.0 / (_167 + fma(_167, -_169, _169)))) * ((_132 * (1.0 / max(fma(_165, _163, -_165) + 1.0, fp_c1_1._m0[0].y))) * (_132 * (1.0 / max(fma(_165, _163, -_165) + 1.0, fp_c1_1._m0[0].y))));
    float _192 = fma(_118.x, fma(_186, _112, _114), max(0.0, fma(_180, fp_c5_1._m0[31].x, (fma(_92, fp_c5_1._m0[25].z, fma(_86, fp_c5_1._m0[25].y, _84 * fp_c5_1._m0[25].x)) + fp_c5_1._m0[25].w) + fma(_157, fp_c5_1._m0[28].w, fma(_155, fp_c5_1._m0[28].z, fma(_153, fp_c5_1._m0[28].y, _145 * fp_c5_1._m0[28].x))))) * fma(_186, -_126, _126));
    float _194 = fma(_118.y, fma(_182, _112, _114), max(0.0, fma(_180, fp_c5_1._m0[31].y, (fma(_92, fp_c5_1._m0[26].z, fma(_86, fp_c5_1._m0[26].y, _84 * fp_c5_1._m0[26].x)) + fp_c5_1._m0[26].w) + fma(_157, fp_c5_1._m0[29].w, fma(_155, fp_c5_1._m0[29].z, fma(_153, fp_c5_1._m0[29].y, _145 * fp_c5_1._m0[29].x))))) * fma(_182, -_128, _128));
    float _196 = fma(_118.z, fma(_188, _112, _114), max(0.0, fma(_180, fp_c5_1._m0[31].z, (fma(_92, fp_c5_1._m0[27].z, fma(_86, fp_c5_1._m0[27].y, _84 * fp_c5_1._m0[27].x)) + fp_c5_1._m0[27].w) + fma(_157, fp_c5_1._m0[30].w, fma(_155, fp_c5_1._m0[30].z, fma(_153, fp_c5_1._m0[30].y, _145 * fp_c5_1._m0[30].x))))) * fma(_188, -_140, _140));
    float _198 = _194;
    float _200 = _196;
    float _202 = _192;
    float _204 = _194;
    float _206 = _192;
    float _208 = _196;
    if (floatBitsToInt(_174) != (-1))
    {
        int _210 = floatBitsToInt(_174);
        int _212 = 0;
        float _216;
        float _218;
        float _220;
        int _304;
        do
        {
            int _214 = _210 & 255;
            _216 = _202;
            _218 = _198;
            _220 = _200;
            _224 = uint(_214) >= 30u;
            if (_224)
            {
                break;
            }
            int _226 = _214 << 4;
            uint _228 = uint(int(uint(_226 + 7360) >> uint(2)));
            int _230 = int(_228) + 1;
            uint _232 = uint(int(uint(_226 + 7368) >> uint(2)));
            float _234 = (-_120) + fp_c10_1._m0[int(uint(int(_228)) >> uint(2))][int(_228) & 3];
            float _236 = fp_c10_1._m0[int(uint(_230) >> uint(2))][_230 & 3] + (-_54.y);
            float _238 = (-_122) + fp_c10_1._m0[int(uint(int(_232)) >> uint(2))][int(_232) & 3];
            float _240 = fma(_238, _238, fma(_236, _236, _234 * _234));
            float _242 = _234 * inversesqrt(_240);
            float _244 = _236 * inversesqrt(_240);
            float _246 = _238 * inversesqrt(_240);
            float _248 = _88 + _242;
            float _250 = _90 + _244;
            float _252 = _94 + _246;
            float _254 = inversesqrt(fma(_252, _252, fma(_250, _250, _248 * _248)));
            float _256 = _248 * _254;
            float _258 = _250 * _254;
            uint _260 = uint(int(uint(_226 + 6880) >> uint(2)));
            int _262 = int(_260) + 1;
            float _264 = _252 * _254;
            float _266 = fma(_92, _246, fma(_86, _244, _84 * _242));
            float _268 = max(_266, fp_c1_1._m0[0].y);
            float _270 = max(fma(_94, _264, fma(_90, _258, _88 * _256)), fp_c1_1._m0[0].y);
            float _272 = max(fma(_92, _264, fma(_86, _258, _84 * _256)), fp_c1_1._m0[0].y) * max(fma(_92, _264, fma(_86, _258, _84 * _256)), fp_c1_1._m0[0].y);
            uint _274 = uint(int(uint(_226 + 8320) >> uint(2)));
            uint _276 = uint(int(uint(_226 + 6400) >> uint(2)));
            int _278 = int(_276) + 1;
            uint _280 = uint(int(uint(_226 + 6408) >> uint(2)));
            float _282 = exp2(_270 * fma(_270, fp_c1_1._m0[0].z, -6.9831600189208984375));
            float _284 = (_176 * (1.0 / (_167 + fma(_167, -_268, _268)))) * ((_132 * (1.0 / max(fma(_163, _272, -_272) + 1.0, fp_c1_1._m0[0].y))) * (_132 * (1.0 / max(fma(_163, _272, -_272) + 1.0, fp_c1_1._m0[0].y))));
            bool _286 = floatBitsToInt(fp_c10_1._m0[int(uint(int(_274)) >> uint(2))][int(_274) & 3]) != 0;
            float _288 = _284;
            if (!_286)
            {
                _288 = 1.0;
            }
            float _290 = _288;
            if (_286)
            {
                uint _292 = uint(int(uint(_226 + 7840) >> uint(2)));
                int _294 = int(_292) + 1;
                uint _296 = uint(int(uint(_226 + 7848) >> uint(2)));
                uint _298 = uint(int(uint(_226 + 6888) >> uint(2)));
                float _300 = fp_c10_1._m0[int(uint(int(_298)) >> uint(2))][int(_298) & 3];
                int _302 = int(_298) + 1;
                _290 = exp2(fp_c10_1._m0[int(uint(_302) >> uint(2))][_302 & 3] * log2(clamp(((-_300) + fma(_246, -fp_c10_1._m0[int(uint(int(_296)) >> uint(2))][int(_296) & 3], fma(_244, -fp_c10_1._m0[int(uint(_294) >> uint(2))][_294 & 3], _242 * (-fp_c10_1._m0[int(uint(int(_292)) >> uint(2))][int(_292) & 3])))) * (1.0 / ((-_300) + 1.0)), 0.0, 1.0)));
            }
            _304 = _212 + 1;
            float _306 = (exp2(fp_c10_1._m0[int(uint(_262) >> uint(2))][_262 & 3] * log2(clamp(fma(fp_c10_1._m0[int(uint(int(_260)) >> uint(2))][int(_260) & 3], -sqrt(_240), fp_c1_1._m0[1].x), 0.0, 1.0))) * _290) * clamp(_266 + (-0.0), 0.0, 1.0);
            float _308 = fma(fp_c10_1._m0[int(uint(_278) >> uint(2))][_278 & 3] * _306, fma(_128, fp_c1_1._m0[1].y, ((_182 + fma(_182, -_282, _282)) * _284) * 0.079577468335628509521484375), _198);
            float _310 = fma(fp_c10_1._m0[int(uint(int(_280)) >> uint(2))][int(_280) & 3] * _306, fma(_140, fp_c1_1._m0[1].y, ((_188 + fma(_188, -_282, _282)) * _284) * 0.079577468335628509521484375), _200);
            float _312 = fma(fp_c10_1._m0[int(uint(int(_276)) >> uint(2))][int(_276) & 3] * _306, fma(_126, fp_c1_1._m0[1].y, ((_186 + fma(_186, -_282, _282)) * _284) * 0.079577468335628509521484375), _202);
            _210 = int(uint(_210) >> uint(8));
            _212 = _304;
            _198 = _308;
            _200 = _310;
            _202 = _312;
            _216 = _312;
            _218 = _308;
            _220 = _310;
        } while (!(_304 >= 4));
        _224 = false;
        _204 = _218;
        _206 = _216;
        _208 = _220;
        if ((_210 & 255) == 30)
        {
            float _314 = _54.y;
            float _316 = 1.0 / (fma(_122, fp_c10_1._m0[565].z, fma(_314, fp_c10_1._m0[565].y, _120 * fp_c10_1._m0[565].x)) + fp_c10_1._m0[565].w);
            float _318 = 1.0 / fp_c10_1._m0[561].y;
            float _320 = _122 + (-fp_c10_1._m0[557].z);
            float _322 = (-_120) + fma(fp_c10_1._m0[561].x * fp_c10_1._m0[558].x, -_318, fp_c10_1._m0[557].x);
            float _324 = (-_122) + fma(fp_c10_1._m0[561].x * fp_c10_1._m0[558].z, -_318, fp_c10_1._m0[557].z);
            float _326 = _120 + (-fp_c10_1._m0[557].x);
            float _328 = _320 * fp_c10_1._m0[558].x;
            float _330 = _322 * _322;
            float _332 = _326 * fp_c10_1._m0[558].z;
            float _334 = sqrt(fma(_324, _324, _330)) * (-fp_c10_1._m0[558].y);
            float _336 = ((-float(_328 < _332)) + float(_328 > _332)) * fp_c10_1._m0[561].y;
            float _338 = inversesqrt(fma(_324, _324, fma(_334, _334, _330)));
            float _340 = _322 * _338;
            float _342 = _334 * _338;
            float _344 = _324 * _338;
            float _346 = _88 + _340;
            float _348 = _90 + _342;
            float _350 = _94 + _344;
            float _352 = inversesqrt(fma(_350, _350, fma(_348, _348, _346 * _346)));
            float _354 = _346 * _352;
            float _356 = _348 * _352;
            float _358 = _350 * _352;
            float _360 = fma(_320, _320, _326 * _326);
            float _362 = inversesqrt(fma(_344, _344, _340 * _340));
            float _364 = fma(_320, fp_c10_1._m0[558].z, _326 * fp_c10_1._m0[558].x);
            bool _366 = _364 > 0.0;
            float _368 = max(fma(_92, _358, fma(_86, _356, _84 * _354)), fp_c1_1._m0[0].y) * max(fma(_92, _358, fma(_86, _356, _84 * _354)), fp_c1_1._m0[0].y);
            float _370 = max(fma(_94, _358, fma(_90, _356, _88 * _354)), fp_c1_1._m0[0].y);
            float _372 = fma(_92, _344, fma(_86, _342, _84 * _340));
            float _374 = inversesqrt(_360);
            if (_366)
            {
                _374 = sqrt(_360);
            }
            float _376 = _374;
            if (!_366)
            {
                _376 = 1.0;
            }
            float _378 = max(_372, fp_c1_1._m0[0].y);
            float _380 = clamp((1.0 / fp_c10_1._m0[561].x) * (abs(fma(_326, fma(_336, fp_c10_1._m0[558].x, fp_c10_1._m0[560].z * fp_c10_1._m0[558].z), -(_320 * fma(fp_c10_1._m0[560].z, fp_c10_1._m0[558].x, -(_336 * fp_c10_1._m0[558].z))))) + (-0.0)), 0.0, 1.0) * clamp((1.0 / fp_c10_1._m0[561].x) * (abs(fma(_326, fma(_336, fp_c10_1._m0[558].x, fp_c10_1._m0[560].z * fp_c10_1._m0[558].z), -(_320 * fma(fp_c10_1._m0[560].z, fp_c10_1._m0[558].x, -(_336 * fp_c10_1._m0[558].z))))) + (-0.0)), 0.0, 1.0);
            bool _382 = fma(_320 * inversesqrt(_360), fp_c10_1._m0[558].z, (_326 * inversesqrt(_360)) * fp_c10_1._m0[558].x) < fp_c10_1._m0[560].z;
            float _384 = clamp(fma(_364 + (-fp_c10_1._m0[561].z), -(1.0 / fp_c10_1._m0[561].w), fp_c1_1._m0[1].x), 0.0, 1.0) * clamp(fma(_364 + (-fp_c10_1._m0[561].z), -(1.0 / fp_c10_1._m0[561].w), fp_c1_1._m0[1].x), 0.0, 1.0);
            float _386 = fma(_380, -_380, fp_c1_1._m0[1].x);
            float _388 = exp2(_370 * fma(_370, fp_c1_1._m0[0].z, -6.9831600189208984375));
            float _390 = _386;
            if (_382)
            {
                _390 = _386 * _386;
            }
            float _392 = _390;
            if (!_382)
            {
                _392 = 1.0;
            }
            float _394 = (_176 * (1.0 / (_167 + fma(_167, -_378, _378)))) * ((_132 * (1.0 / max(fma(_163, _368, -_368) + 1.0, fp_c1_1._m0[0].y))) * (_132 * (1.0 / max(fma(_163, _368, -_368) + 1.0, fp_c1_1._m0[0].y))));
            float _396 = (min(fma(_384, -_384, fp_c1_1._m0[1].x) * fma(_384, -_384, fp_c1_1._m0[1].x), _392) * (exp2(log2(clamp(fma(_376, -fp_c10_1._m0[560].x, 1.0), 0.0, 1.0)) * fp_c10_1._m0[560].y) * exp2(log2(clamp((fma(_344 * _362, -fp_c10_1._m0[558].z, (_340 * _362) * (-fp_c10_1._m0[558].x)) + (-fp_c10_1._m0[560].z)) * (1.0 / ((-fp_c10_1._m0[560].z) + 1.0)), 0.0, 1.0)) * fp_c10_1._m0[560].w))) * clamp(_372 + (-0.0), 0.0, 1.0);
            float _398 = float((texture(fp_tex_tcb_44, vec2(fma((fma(_122, fp_c10_1._m0[562].z, fma(_314, fp_c10_1._m0[562].y, _120 * fp_c10_1._m0[562].x)) + fp_c10_1._m0[562].w) * _316, 0.5, 0.5), (-fma((fma(_122, fp_c10_1._m0[563].z, fma(_314, fp_c10_1._m0[563].y, _120 * fp_c10_1._m0[563].x)) + fp_c10_1._m0[563].w) * _316, 0.5, 0.5)) + 1.0)).z > fma((fma(_122, fp_c10_1._m0[564].z, fma(_314, fp_c10_1._m0[564].y, _120 * fp_c10_1._m0[564].x)) + fp_c10_1._m0[564].w) * _316, 0.5, 0.5)) || (_364 <= 0.0));
            _204 = fma(((fp_c10_1._m0[559].w * fp_c10_1._m0[559].y) * _396) * fma(_128, fp_c1_1._m0[1].y, ((_182 + fma(_182, -_388, _388)) * _394) * 0.079577468335628509521484375), _398, _218);
            _206 = fma(((fp_c10_1._m0[559].w * fp_c10_1._m0[559].x) * _396) * fma(_126, fp_c1_1._m0[1].y, ((_186 + fma(_186, -_388, _388)) * _394) * 0.079577468335628509521484375), _398, _216);
            _208 = fma(((fp_c10_1._m0[559].w * fp_c10_1._m0[559].z) * _396) * fma(_140, fp_c1_1._m0[1].y, ((_188 + fma(_188, -_388, _388)) * _394) * 0.079577468335628509521484375), _398, _220);
        }
    }
    float _400 = _120 + (-fp_c3_1._m0[11].w);
    float _402 = _122 + (-fp_c3_1._m0[13].w);
    float _404 = _54.y + (-fp_c3_1._m0[12].w);
    float _406 = fma(_402, _402, fma(_404, _404, _400 * _400));
    float _408 = exp2(fma(fma(_402 * inversesqrt(_406), fp_c5_1._m0[23].z, fma(_404 * inversesqrt(_406), fp_c5_1._m0[23].y, (_400 * inversesqrt(_406)) * fp_c5_1._m0[23].x)), -fp_c7_1._m0[54].y, fp_c7_1._m0[54].y)) * exp2(log2(clamp(sqrt(_406) * fp_c3_1._m0[15].x, 0.0, 1.0)) * fp_c7_1._m0[54].x);
    float _410 = fma(fma(_190 * (_182 + fma(_182, -_178, _178)), fp_c1_1._m0[0].w, _128 * 0.3183098733425140380859375), _184 * fp_c5_1._m0[5].y, _204);
    float _412 = fma(fma(_190 * (_186 + fma(_186, -_178, _178)), fp_c1_1._m0[0].w, _126 * 0.3183098733425140380859375), _184 * fp_c5_1._m0[5].x, _206);
    float _414 = fma(fma(_190 * (_188 + fma(_188, -_178, _178)), fp_c1_1._m0[0].w, _140 * 0.3183098733425140380859375), _184 * fp_c5_1._m0[5].z, _208);
    float _416 = clamp((-exp2((clamp(fma(sqrt(_406), fp_c5_1._m0[12].x, fp_c5_1._m0[11].w), 0.0, 1.0) * (-fp_c7_1._m0[53].x)) * 1.44269502162933349609375)) + 1.0, 0.0, 1.0) * fp_c5_1._m0[10].w;
    _59.x = fma((-_412) + fma(fma(_408 * fp_c7_1._m0[55].x, fp_c7_1._m0[54].z, -fp_c5_1._m0[10].x), fp_c7_1._m0[53].w, fp_c5_1._m0[10].x), _416, _412);
    _59.y = fma((-_410) + fma(fma(_408 * fp_c7_1._m0[55].y, fp_c7_1._m0[54].z, -fp_c5_1._m0[10].y), fp_c7_1._m0[53].w, fp_c5_1._m0[10].y), _416, _410);
    _59.z = fma((-_414) + fma(fma(_408 * fp_c7_1._m0[55].z, fp_c7_1._m0[54].z, -fp_c5_1._m0[10].z), fp_c7_1._m0[53].w, fp_c5_1._m0[10].z), _416, _414);
    _59.w = clamp(_56.w, 0.0, 1.0);
}

